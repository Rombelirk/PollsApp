# -----------------------------------------------
# !!! THIS FILE WAS GENERATED BY TYPE-GRAPHQL !!!
# !!!   DO NOT MODIFY THIS FILE BY YOURSELF   !!!
# -----------------------------------------------

input AnswerPollInput {
  _id: String!
  optionId: String!
}

"""
The javascript `Date` as string. Type represents date and time as the ISO Date string.
"""
scalar DateTime

type FriendshipDto {
  _id: String!
  recipient: String!
  requester: String!
  status: String!
}

type LoginDto {
  user: UserDto!
  jwtToken: String!
}

input LoginInput {
  login: String!
  password: String!
}

type Mutation {
  createUser(input: UserLoginInput!): UserDto!
  closeCurrentPoll: UserDto!
  createPoll(input: PollInput!): UserDto!
  giveAnswer(input: AnswerPollInput!): PollDto!
  createFriendshipRequest(userId: String!): FriendshipDto!
  acceptFriendshipRequest(requestId: String!): FriendshipDto!
}

type PollDto {
  _id: String!
  title: String!
  author: UserDto!
  create_date: DateTime!
  options: [PollDtoOptions!]!
  votes: [PollDtoVotes!]!
}

type PollDtoOptions {
  _id: String!
  option: String!
}

type PollDtoVotes {
  user: UserDto!
  optionId: String!
}

input PollInput {
  title: String!
  options: [String!]!
}

type Query {
  getSelfInfo: UserDto!
  getAllUsers: [UserDto!]!
  getPollsCreatedByUser(userId: String!): [PollDto!]!
  getPollsToAnswer: [PollDto!]!
  login(input: LoginInput!): LoginDto!
}

type UserDto {
  _id: String!
  login: String!
  currentPoll: PollDto
  pollHistory: [PollDto!]!
  friends: [UserDto!]!
  friendRequests: [FriendshipDto!]!
}

input UserLoginInput {
  login: String!
  password: String!
}
